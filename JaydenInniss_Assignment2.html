<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>MDIA 2294</title>
	
	<style>	    
	    img {
	        margin:5px;
	    }
	    
	    img.clickable{
	        cursor:pointer;
	    }
	
	</style>
	
</head>
<body>

	<h1>Jayden Inniss - MDIA 2294: Assignment 2</h1>
	
	<div style="text-align:center;">
	    <table>
	        <tr>
	            <td></td>
	            <td style="text-align:center;">
                    <div><img id="main-image" alt="Main Image" style="height: 500px; width: 1000px;"/></div>

                    <div><input id="current-index" /></div>    
                </td>
	            <td></td>
	        
	        </tr>
	        <tr>
	            <td>
	                <img src="images/first.png" id="first_btn" />            
	                <img src="images/prev.png" id="prev_btn" />
	            </td>
	            <td>
	                <div id="thumbnail-area"></div>	        
	            </td>
	            <td>
	                <img src="images/next.png" id="next_btn" />            
	                <img src="images/last.png" id="last_btn" />
	            </td>
	        </tr>	    
	    </table>       
	</div>
    
	<script>

// Jayden Inniss  -  A01363743 - MDIA 2294: Assignment 2

		//Hello, I hope this code reaches you well, lets start by creating an array of the images we will be using.
		//These names are only the 
		const image_root_names = ["Flag_of_Alberta", "Flag_of_British_Columbia", "Flag_of_Manitoba", "Flag_of_Nunavut", "Flag_of_Ontario", "Flag_of_Quebec", "Flag_of_Saskatchewan"]
		let current_index = 0;

		const first_load = () => { 

			set_main_image (0);
			set_thumbnails ();
	
		} 


		
		const set_main_image = (index) => {

					document.querySelector("#main-image").src = "images/" + image_root_names[index] + ".png";


					update_thumbnails(index);
					current_index=index;
}


const set_thumbnails = () => {

	

					image_root_names.forEach( (image_root_names, index) => {
					// Create a new <img /c>
					let new_thumb = document.createElement("img");

					// Update the src
					// <img src="images/dogThumb.png" />
					new_thumb.src = "images/thumbs/" + "thumb" + image_root_names + ".png";

					// Add a class
					// <img src="images/dogThumb.png" class="clickable" />
					new_thumb.className = "clickable"; 

					// Add an event listener
					new_thumb.addEventListener("click", () => {

					// Call the function above that changes the src attribute of the main image
					set_main_image(index);

					}
);

// Add the new <img> to the DOM (screen) as the last child of <div id="thumbnails">
document.querySelector("#thumbnail-area").append(new_thumb);

});


}

	
		const update_thumbnails = (current_index) => {
			// TODO: you'll need to loop through all thumbnails
			//		- turn on an indicator (eg opacity:1.0) if it's the selected thumb
			//		- turn off the indicator (eg opacity:0.75) if it's not

			const thumbnails = document.querySelectorAll(".clickable");

			thumbnails.forEach ((thisthumb, index) => {

				if (current_index !== index){
				thisthumb.style.opacity = 0.5;
				thisthumb.style.border = "none";
				} else {
				thisthumb.style.opacity = 1;
				thisthumb.style.border = "thick solid #0000FF";
				}
			})

		} 
	
		const set_nav_first = () => {
			current_index = 0;
			document.querySelector("#main-image").src = "images/" + image_root_names[current_index] + ".png";
			update_thumbnails (current_index);
		}
	
		const set_nav_last = () => {
			current_index = image_root_names.length - 1;

			document.querySelector("#main-image").src = "images/" + image_root_names[current_index] + ".png";
			update_thumbnails (current_index);

		}
	
		const set_nav_next = () => {

			const nextNum = (current_index >= image_root_names.length-1) ? 0 : current_index + 1;
			set_main_image(nextNum);


		}
	
		const set_nav_prev = () => {

			const nextNum = (current_index <= 0) ? image_root_names.length-1 : current_index - 1;
			set_main_image(nextNum);
		}	
	
		window.addEventListener("load", first_load);





			next_btn.addEventListener("click", set_nav_next);
			prev_btn.addEventListener("click", set_nav_prev);
			first_btn.addEventListener("click", set_nav_first);
			last_btn.addEventListener("click", set_nav_last);


			

	</script>
	
</body>
</html>